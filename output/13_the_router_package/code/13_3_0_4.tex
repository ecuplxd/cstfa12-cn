\begin{minted}{typescript}
export function setupRouter() { ..
  const router = new Router(
    null,
    urlSerializer,
    contexts,
    location,
    injector,
    loader,
    compiler,
    flatten(config)
  );

  if (urlHandlingStrategy)
    if (routeReuseStrategy)
      ..
      if (opts.errorHandler)
        ..
        if (opts.enableTracing)
          ..
          if (opts.onSameUrlNavigation)
            ..
            if (opts.paramsInheritanceStrategy)
              ..
              ..
              return router;
}
\end{minted}
