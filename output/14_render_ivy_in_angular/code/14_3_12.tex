\begin{minted}{typescript}
export function createProgram({
  rootNames,
  options,
  host,
  oldProgram,
}: {
  rootNames: ReadonlyArray<string>;
  options: CompilerOptions;
  host: CompilerHost;
  oldProgram?: Program;
}): Program {
  if (options.enableIvy === true) {
    return new NgtscProgram(rootNames, options, host, oldProgram);
  } else if (options.enableIvy === 'tsc') {
    return new TscPassThroughProgram(rootNames, options, host, oldProgram);
  }
  return new AngularCompilerProgram(rootNames, options, host, oldProgram);
}
\end{minted}
